From 999a772d9f24bf9b8d0726e1359c9d8c3bdad72e Mon Sep 17 00:00:00 2001
From: Ramon Fried <ramon.fried@gmail.com>
Date: Tue, 14 Aug 2018 01:00:04 +0300
Subject: [PATCH] Kconfig: Migrate CONFIG_NR_DRAM_BANKS

Move CONFIG_NR_DRAM_BANKS from headers to Kconfig.

Signed-off-by: Ramon Fried <ramon.fried@gmail.com>

Upstream-Status: Backport[http://git.denx.de/?p=u-boot.git;a=commit;
                 h=999a772d9f24bf9b8d0726e1359c9d8c3bdad72e]

CVE: CVE-2018-18439-18440

Signed-off-by: Meng Li <Meng.Li@windriver.com>
---
 Kconfig | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/Kconfig b/Kconfig
index db0f545..d96e337 100644
--- a/Kconfig
+++ b/Kconfig
@@ -104,6 +104,12 @@ config ENV_VARS_UBOOT_CONFIG
 	  - CONFIG_SYS_VENDOR
 	  - CONFIG_SYS_SOC
 
+config NR_DRAM_BANKS
+	int "Number of DRAM banks"
+	default 4
+	help
+	  This defines the number of DRAM banks.
+
 config SYS_BOOT_GET_CMDLINE
 	bool "Enable kernel command line setup"
 	help
-- 
2.7.4

